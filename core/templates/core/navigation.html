<!-- core/templates/core/navigation.html -->
{% load static %}

<!-- 
    Шаблон: core/templates/core/navigation.html
    Описание: Содержит навигационную панель с иконками и функцией сворачивания. 
    При сворачивании панели текст скрывается, остаются только иконки.
-->

<nav id="sidebar" class="sidebar flex-column bg-light">
    <div class="sidebar-header d-flex justify-content-end">
        <!-- Кнопка для сворачивания/разворачивания панели -->
        <button class="btn" id="sidebarToggle">
            <i class="toggle-icon text-secondary">‹</i> <!-- Иконка со стрелкой серого цвета -->
        </button>
    </div>
    <ul class="nav flex-column">
        <li class="nav-item" data-bs-toggle="tooltip" data-bs-placement="right" title="Главная">
            <!-- Ссылка на главную страницу с иконкой домика -->
            <a class="nav-link active" href="#">
                <i class="bi bi-house-door"></i> <!-- Иконка домика -->
                <span class="link-text">Главная</span>
            </a>
        </li>
    
        <!-- Показываем установленные в платформе базовые приложения и их подприложения -->
        {% for app_name, app_info in installed_apps.items %}
        <li class="nav-item" data-bs-toggle="tooltip" data-bs-placement="right" title="{{ app_info.verbose_name }}">
            <a class="nav-link" href="#">
                <i class="bi bi-link"></i> <!-- Иконка ссылки -->
                <span class="link-text">{{ app_info.verbose_name }}</span>
            </a>
            {% if app_info.sub_apps %}
            <ul class="nav flex-column ms-3">
                {% for sub_app in app_info.sub_apps %}
                <li class="nav-item">
                    <a class="nav-link" href="#">
                        <i class="bi bi-dot"></i> <!-- Иконка подприложения -->
                        <span class="link-text">{{ sub_app.verbose_name }}</span>
                    </a>
                </li>
                {% endfor %}
            </ul>
            {% endif %}
        </li>
        {% endfor %}
    </ul>
</nav>
